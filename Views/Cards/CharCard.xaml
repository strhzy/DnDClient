<?xml version="1.0" encoding="utf-8"?>

<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:DnDClient.ViewModels"
             x:Class="DnDClient.Views.Cards.CharCard">
    <Frame
        CornerRadius="10"
        Margin="10"
        Padding="15"
        BorderColor="Purple"
        Background="{AppThemeBinding Light=LightGray, Dark=#454545}"
        HasShadow="True">
        <Frame.GestureRecognizers>
            <TapGestureRecognizer
                Command="{Binding Source={RelativeSource AncestorType={x:Type vm:CharactersViewModel}}, Path=TapCardCommand}"
                CommandParameter="{Binding .}" />
        </Frame.GestureRecognizers>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Имя персонажа -->
            <Label
                Grid.Row="0"
                Grid.Column="0"
                Grid.ColumnSpan="2"
                Text="{Binding Name}"
                FontSize="24"
                FontAttributes="Bold"
                HorizontalOptions="Center"
                Margin="0,0,0,10" />

            <!-- Класс и уровень -->
            <Label
                Grid.Row="1"
                Grid.Column="0"
                Text="{Binding ClassType, StringFormat='Class: {0}'}"
                FontSize="16" />
            <Label
                Grid.Row="1"
                Grid.Column="1"
                Text="{Binding Level, StringFormat='Level: {0}'}"
                FontSize="16"
                HorizontalOptions="End" />

            <!-- Раса и выравнивание -->
            <Label
                Grid.Row="2"
                Grid.Column="0"
                Text="{Binding Race, StringFormat='Race: {0}'}"
                FontSize="16" />
            <Label
                Grid.Row="2"
                Grid.Column="1"
                Text="{Binding Alignment, StringFormat='Alignment: {0}'}"
                FontSize="16"
                HorizontalOptions="End" />

            <!-- Характеристики -->
            <Label
                Grid.Row="3"
                Grid.Column="0"
                Grid.ColumnSpan="2"
                Text="Attributes"
                FontSize="18"
                FontAttributes="Bold"
                Margin="0,10,0,5" />
            <Grid
                Grid.Row="4"
                Grid.Column="0"
                Grid.ColumnSpan="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Label
                    Grid.Column="0"
                    Text="{Binding Strength, StringFormat='STR: {0}'}"
                    FontSize="14"
                    HorizontalOptions="Center" />
                <Label
                    Grid.Column="1"
                    Text="{Binding Dexterity, StringFormat='DEX: {0}'}"
                    FontSize="14"
                    HorizontalOptions="Center" />
                <Label
                    Grid.Column="2"
                    Text="{Binding Constitution, StringFormat='CON: {0}'}"
                    FontSize="14"
                    HorizontalOptions="Center" />
            </Grid>
            <Button Grid.Row="5" Grid.ColumnSpan="2" Text="Удалить"
                    BackgroundColor="Red"
                    Command="{Binding Source={RelativeSource AncestorType={x:Type vm:CharactersViewModel}}, Path=DeleteCommand}"
                    CommandParameter="{Binding .}" />
        </Grid>
    </Frame>
</ContentView>